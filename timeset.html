<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>Basic IOT button</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
</head>

<body bgcolor="white">
  <button type="lampOn" onclick="lampOn()">On</button>
  <button type="lampOff" onclick="lampOff()">Off</button>

  <input id="inputNum">
   <button type="button" onclick="myFunction()">I did it</button>


 <p id="demo"></p>

  <script>
    var clicks = 0;
    var hour;

    function lampOn() {
      console.log("Lamp is on");
      clicks=1;
      $.post("https://api.particle.io/v1/devices/27001d000547343138333038/lamp?access_token=87a42cc6c9cd2c1ba8370d61a07e4e9add9cd536", {
        value: "on"
      });
    }

    function lampOff() {
      console.log("Lamp is off");
      clicks=0;
      $.post("https://api.particle.io/v1/devices/27001d000547343138333038/lamp?access_token=87a42cc6c9cd2c1ba8370d61a07e4e9add9cd536", {
        value: "off"
      });
    }
    function myFunction() {
      var x, text;

      // Get the value of the input field with id="numb"
      x = document.getElementById("inputNum").value;

      // If x is less than 10 or greater than 20
      if (x > 24) {
        text = "Invalid hour!";
      //if x is not a number
      } else if (isNaN(x)) {
        text = "What? That's not even a number!";
      } else {
        text = "Hour set!";
        hour = x;
        $.post("https://api.particle.io/v1/devices/27001d000547343138333038/lamp?access_token=87a42cc6c9cd2c1ba8370d61a07e4e9add9cd536", {
          value: hour;
        });
      }
      document.getElementById("demo").innerHTML = text;
    }
  </script>
